<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://wiki.status.im/guides/developers/starting-a-dapp-on-status-with-frameworks/">
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>Starting a DApp on Status with Truffle and Embark - Status Wiki</title>
        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../css/highlight.css">
        <link rel="stylesheet" href="../../../css/custom.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

	<script src="../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../js/highlight.pack.js"></script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-79146816-1', 'wiki.status.im');
            ga('send', 'pageview');
        </script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../../.."></a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="../../..">Welcome</a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Getting Started <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../getting-started/mission-and-core-values/">Mission & Core Values</a>
</li>
                            
<li >
    <a href="../../../getting-started/user-guide/">User Guide</a>
</li>
                            
<li >
    <a href="../../../getting-started/faq/">FAQ</a>
</li>
                            
<li >
    <a href="../../../getting-started/code-of-conduct/">Code of Conduct</a>
</li>
                            
<li >
    <a href="../../../contributing/development/introduction/">Developer Introduction</a>
</li>
                            
<li >
    <a href="../../../community/how-to-grow-our-community/">Grow our Community</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contributing <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
  <li class="dropdown-submenu">
    <a href="#">Developers</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../contributing/development/introduction/">Introduction</a>
</li>
            
<li >
    <a href="../../../contributing/development/building-status/">Building Status</a>
</li>
            
<li >
    <a href="../../../contributing/development/adding-dapps/">Adding DApps</a>
</li>
    </ul>
  </li>
                            
<li >
    <a href="../../../contributing/design-guidelines/">Design Guidelines</a>
</li>
                            
<li >
    <a href="../../../contributing/testing-and-feedback/">Testing & Feedback</a>
</li>
                            
<li >
    <a href="../../../contributing/documenting/">Documenting</a>
</li>
                            
<li >
    <a href="../../../contributing/outreach/">Outreach</a>
</li>
                            
<li >
    <a href="../../../contributing/translations/">Translations</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Community <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../community/how-to-grow-our-community/">Grow our Community</a>
</li>
                            
<li >
    <a href="../../../community/slack/">Slack</a>
</li>
                            
<li >
    <a href="../../../community/newsletter/">Newsletter</a>
</li>
                            
<li >
    <a href="../../../community/blog/">Blog</a>
</li>
                            
<li >
    <a href="../../../community/tell-a-friend/">Tell a Friend</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Guides <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
  <li class="dropdown-submenu">
    <a href="#">For Users</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../getting-started/user-guide/">User Guide</a>
</li>
            
<li >
    <a href="../../../community/how-to-grow-our-community/">Grow our Community</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">For Developers</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../contributing/development/introduction/">Developer Introduction</a>
</li>
            
<li >
    <a href="../../../contributing/development/building-status/">Building Status</a>
</li>
            
<li >
    <a href="../background-for-developers/">Background for DApp Developers</a>
</li>
            
<li class="active">
    <a href="./">Starting a DApp on Status with Truffle and Embark</a>
</li>
            
<li >
    <a href="../introduction-to-status-chat-api/">Introduction to the Status Chat API</a>
</li>
    </ul>
  </li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Proposals <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../proposals/commiteth/">Commiteth (WIP)</a>
</li>
                            
<li >
    <a href="../../../proposals/contact-sharing/">Contact Sharing (WIP)</a>
</li>
                            
<li >
    <a href="../../../proposals/chat-api/">Chat API (WIP)</a>
</li>
                            
<li >
    <a href="../../../proposals/discover/">Discover (WIP)</a>
</li>
                            
<li >
    <a href="../../../proposals/messaging/">Status Messaging (WIP)</a>
</li>
                            
<li >
    <a href="../../../proposals/erc20-exchange/">Exchange (WIP)</a>
</li>
                            
<li >
    <a href="../../../proposals/sticker-market/">Sticker Market (WIP)</a>
</li>
                            
<li >
    <a href="../../../proposals/visual-programming/">Visual Programming (WIP)</a>
</li>
                            
<li >
    <a href="../../../proposals/moments/">Moments (WIP)</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">License <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../licenses/mpl2/">MPL2</a>
</li>
                            
<li >
    <a href="../../../licenses/lgpl-v3.0-static/">LGPLv3-static</a>
</li>
                        </ul>
                    </li>
                      <li class="repo-link">
                          <a href="https://github.com/status-im/wiki.status.im/" target="_blank">
                                  <i class="fa fa-github"></i>GitHub
                          </a>
                      </li>
                  <li class="search-link">
                      <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                          <i class="fa fa-search"></i>
                      </a>
                  </li>
                </ul>

        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#starting-a-dapp-on-status-with-truffle-and-embark">Starting a DApp on Status with Truffle and Embark</a></li>
            <li><a href="#a-quick-overview-before-we-get-started">A Quick Overview Before We Get Started</a></li>
        <li class="main "><a href="#installing-status">Installing Status</a></li>
        <li class="main "><a href="#enabling-debugging">Enabling Debugging</a></li>
        <li class="main "><a href="#installing-git-node-and-npm">Installing Git, Node, and NPM</a></li>
            <li><a href="#installing-testrpc">Installing testrpc</a></li>
        <li class="main "><a href="#using-truffle">Using Truffle</a></li>
            <li><a href="#running-testrpc">Running testrpc</a></li>
            <li><a href="#installing-truffle">Installing Truffle</a></li>
            <li><a href="#running-our-truffle-dapp-on-status">Running our Truffle DApp on Status</a></li>
        <li class="main "><a href="#using-embark">Using Embark</a></li>
            <li><a href="#installing-embark-and-starting-the-network">Installing Embark and Starting the Network</a></li>
            <li><a href="#configuring-our-embark-dapp-forstatus">Configuring our Embark DApp forStatus</a></li>
            <li><a href="#running-the-dapp">Running the DApp</a></li>
        <li class="main "><a href="#youre-off-to-the-races">You’re Off to the Races</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">


<div style="text-align: right;">
<a href="https://github.com/status-im/wiki.status.im/edit/master/docs/guides/developers/starting-a-dapp-on-status-with-frameworks.md">Edit this page</a>
</div>

<h2 id="starting-a-dapp-on-status-with-truffle-and-embark">Starting a DApp on Status with Truffle and Embark</h2>
<p><em>(warning: the Truffle/Embark functionality is still a work in progress. Come ask in the <a href="http://slack.status.im">Slack</a> if you hit bumps!)</em></p>
<p>Web 3.0 is here! The new distributed web gives new building blocks to developers and entrepreneurs to create new Distributed Apps, or DApps. And Status helps put your DApp in the hands of mobile users across the globe.</p>
<p>In this tutorial, we’ll use the Truffle and Embark frameworks to create a basic DApp ready for further development, and we’ll deploy it on mobile using Status. After we’re done, you’ll be ready to continue developing your DApp, and when you eventually go live, your users will be able to access your DApp by browsing through the Status app, the Chrome MetaMask extension, or the Ethereum Mist browser. One development process, three ways of accessing your DApp!</p>
<h3 id="a-quick-overview-before-we-get-started">A Quick Overview Before We Get Started</h3>
<p>Broadly speaking, for both Truffle and Embark, you’ll get the Status app running and connected to your computer, either on a simulator or on a real phone. Next, you’ll install some necessary dependencies. Then, you’ll start testrpc, a mini-Ethereum network that runs on your computer. Finally, you’ll install the Status Truffle box or the Status Embark plugin, create a basic demo app, and add it to Status.</p>
<h2 id="installing-status">Installing Status</h2>
<p>To develop on Status, you need to have Status running either:</p>
<ul>
<li>
<p>on a real phone,</p>
</li>
<li>
<p>in an Android simulator, or</p>
</li>
<li>
<p>in an iOS simulator.</p>
</li>
</ul>
<p>You can go to <a href="https://test.status.im">https://test.status.im</a> to download for Android. At the time of writing, we’re out of invitations for Testflight iOS, but you can sign up for early iOS access  <a href="http://status.im">on our website</a>.</p>
<p>If you are running in an Android simulator, you also need to run on the command line: <code>adb forward tcp:5561 tcp:5561</code></p>
<p>If you don’t have a smartphone, or you only have an iPhone but want to get started right away, you can build Status yourself for either Android or iOS by following <a href="https://wiki.status.im/contributing/development/building-status/">these guidelines</a>. Following those guidelines, you can install an Android simulator, or start up Status in the Xcode simulator. Our wiki guidelines should be all you need, but if you get lost come ask around in <a href="https://slack.status.im">our Slack</a>.</p>
<h2 id="enabling-debugging">Enabling Debugging</h2>
<p><img alt="With your phone connected, /debug “On”" src="../../img/starting-a-dapp-on-status-with-frameworks_01.png" /><br />
<em>With your phone connected, /debug “On”</em></p>
<p>We’ll assume you have Status open, and that if you’re using a physical phone it’s connected to your computer. Now we need to enable debugging from within the Status app. After you’re logged in to Status, click on Console and run <code>/debug</code>, then pick “On.” You’ll get back a message telling that debugging is on, and that you can use the <a href="https://github.com/status-im/status-dev-cli">status-dev-cli</a> tools if you want. You don’t need those right now, because you’ll be using the pre-configured Status Truffle box or the Embark plugin.</p>
<p>The message also shows you your IP address, which you’ll need later for Embark.</p>
<h2 id="installing-git-node-and-npm">Installing Git, Node, and NPM</h2>
<p>We’ll use the version control tool Git to install the Truffle and Embark frameworks. If you have Xcode installed, Git is probably already installed. To see if it’s installed, open Terminal or any command line program and just enter <code>git</code>. You should see a list of common Git commands. If you don’t, you can install Git with <a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git">these instructions</a>.</p>
<p>We’ll also use node and the Node Package Manager (NPM) to install some dependencies, so make sure you have the latest versions installed. In particular, <code>testrpc</code> will complain if you don’t have at least Node 6.9.1.</p>
<p>On OSX, the easiest way to install node is with <a href="https://brew.sh">Homebrew</a>. You can run <code>brew install node</code>, and the check the version with <code>node --version</code>.</p>
<h3 id="installing-testrpc">Installing testrpc</h3>
<p>To install testrpc, you just need to enter this on your command line:</p>
<pre><code>npm install -g ethereumjs-testrpc
</code></pre>
<p>What’s <code>testrpc</code>? When you deploy your DApps, you are asking the Ethereum network to create an address for them. When you use your DApps, you pay the Ethereum network for the steps that your code takes. Your DApps talk to the Ethereum network through remote procedure calls, or RPC’s. A local network makes this whole process very fast, so that it’s easy to develop your DApps. Essentially, <code>testrpc</code> gives you a small Ethereum network on your computer.</p>
<p>For more about gas and ether, see the top answer on this <a href="http://ethereum.stackexchange.com/questions/3/what-is-gas-and-transaction-fee-in-ethereum">StackExchange question</a>.</p>
<h2 id="using-truffle">Using Truffle</h2>
<p>While the steps up till now apply to using both Truffle and Embark, now we’ll cover steps specific to each framework. Let’s start with Truffle. If you just want to use Embark, you can skip to the next section.</p>
<h3 id="running-testrpc">Running testrpc</h3>
<p>If you try to run <code>truffle migrate</code> in the next section without <code>testrpc</code> running, it’s going to give you an error. So let’s get it going. Open Terminal or any command line program and enter the command:</p>
<p><code>testrpc</code></p>
<p>That’s it! It will show you a list of available accounts, private keys, Wallet, and mnemonic.</p>
<p>Now open a new shell (such as a new Terminal window or tab) for the next part. You’ll leave testrpc running in the first window, and use the second window for the rest of the tutorial.</p>
<h3 id="installing-truffle">Installing Truffle</h3>
<p>Now that you have <code>testrpc</code> running, and a new shell open, you’ll run:</p>
<pre><code>npm install -g truffle // Version 3.0.5+ required.
</code></pre>
<p>This installs the Truffle framework, and you can find its GitHub <a href="https://github.com/trufflesuite/truffle">page here</a>.</p>
<p>With the Truffle framework installed, we can grab the Status Truffle Box, and get a basic DApp running. All the Truffle boxes also include the app frameworks React and Redux, which were designed by Facebook and are widely used by app developers. You can find the other Truffle <a href="https://truffle-box.github.io/">boxes here</a>, but for this tutorial you should use the Status Truffle Box, because it’s set up to be added to Status.</p>
<p>To install the Status Truffle box, all you have to do is run this command in the same Terminal window:</p>
<pre><code>git clone [https://github.com/status-im/truffle-box-status.git](https://github.com/status-im/truffle-box-status.git)
</code></pre>
<p>With the Status Truffle box successfully cloned, let’s walk through the next steps of running your DApp.</p>
<pre><code># Change into the truffle box directory
cd truffle-box-status

# install the node dependencies
 npm install
</code></pre>
<p><img alt="Example on OS X: testrpc running on the left, and installing Truffle on the right" src="../../img/starting-a-dapp-on-status-with-frameworks_02.png" />
<em>Example on OS X: testrpc running on the left, and installing Truffle on the right</em></p>
<pre><code># Compile the contracts from Solidity (much like JavaScript) into
# runnable EVM code
 truffle compile

# Publish the compiled contracts to your network. testrpc must
# already be running
 truffle migrate
</code></pre>
<p>As you run the <code>migrate</code> command, you can look at the window with <code>testrpc</code> running, and you’ll see your transactions being published to your local network.</p>
<h3 id="running-our-truffle-dapp-on-status">Running our Truffle DApp on Status</h3>
<p>Now we are ready to see our DApp running on Status.</p>
<p>From within your DApp directory, run:</p>
<pre><code># Run your JavaScript
 npm run start
</code></pre>
<p>This should tell you that the the app is running, and that the DApp has been added to the Status Contacts.</p>
<p><img alt="The DApp added to the default Contacts" src="../../img/starting-a-dapp-on-status-with-frameworks_03.png" /><br />
<em>The DApp added to the default Contacts</em></p>
<p>After you’ve clicked on your DApp within Status, you’ll see that the chat area at the bottom shows <code>/browse [http://localhost:](http://localhost:8080/)3000/</code> for iOS, and <code>/browse [http://10.0.3.2:3000/](http://10.0.3.2:3000/)</code> for Android.</p>
<p>In fact, you can also browse to that address from Console with the command <code>/browse</code>, just like you could browse to any other web address inside Status. You can also enter that address into your browser, and you’ll see the same thing.</p>
<h2 id="using-embark">Using Embark</h2>
<p>Now that we’ve covered Truffle, let’s take a look at Embark.</p>
<h3 id="installing-embark-and-starting-the-network">Installing Embark and Starting the Network</h3>
<p>Now that you have Status running and your dependencies installed, you’ll run:</p>
<pre><code>npm -g install embark
</code></pre>
<p>This installs the Embark framework, and you can find its GitHub <a href="https://github.com/iurimatias/embark-framework">page here</a>.</p>
<p>With the Embark framework installed, we can make a demo DApp:</p>
<pre><code>embark demo

#change into the directory
cd embark_demo
</code></pre>
<p>Next we want to run the network. You can run a full Ethereum node with <code>embark blockchain</code>, but for development you probably want to run <code>testrpc</code> with:</p>
<pre><code>embark simulator
</code></pre>
<h3 id="configuring-our-embark-dapp-forstatus">Configuring our Embark DApp forStatus</h3>
<p>Now we are almost ready to see our DApp running on Status — this part is short and easy. Open a new shell tab in the same DApp directory, and run:</p>
<pre><code>npm install embark-status --save
</code></pre>
<p>In the same directory, open the file <code>embark.json</code> and edit the <code>plugins</code> key:</p>
<pre><code>"plugins": {
    "embark-status": {
      "deviceIp": "your-device-ip",
      "whisperIdentity": "dapp-test",
      "name": "MyDapp"
    }
  }
</code></pre>
<p>You can get the device IP from the Status Console, which was shown after you ran <code>/debug “On"</code> above. For instance, if <code>/debug</code> told me my IP was <code>10.0.3.15</code>, the entire <code>embark_demo/embark.json</code> file would look like this:</p>
<pre><code>{"contracts": ["app/contracts/**"],
  "app": {
    "css/app.css": ["app/css/**"],
    "images/": ["app/images/**"],
    "js/app.js": ["embark.js", "app/js/_vendor/jquery.min.js", "app/js/_vendor/bootstrap.min.js", "app/js/**"],
    "index.html": "app/index.html"
  },
  "buildDir": "dist/",
  "config": "config/",
    "plugins": {
 "embark-status": {
     "deviceIp": "10.0.3.15",
     "whisperIdentity": "dapp-test",
     "name": "MyDapp"
 }
  }
}
</code></pre>
<p>Finally, if you’re running Status on Android, enable port forwarding with:</p>
<pre><code>adb forward tcp:5561 tcp:5561
</code></pre>
<h3 id="running-the-dapp">Running the DApp</h3>
<p>Now we’re ready to run the DApp on Status. From within your DApp directory, run:</p>
<pre><code># start your DApp
 embark run
</code></pre>
<p>The Embark console will appear within your shell with useful information about the SimpleStorage contract it has created, compiled, and deployed. It will also tell you that the DApp has been added to Status!</p>
<p><img alt="" src="../../img/starting-a-dapp-on-status-with-frameworks_04.png" />
<img alt="The Embark simulator runs in one Terminal window on the left, and the Embark console on the right" src="../../img/starting-a-dapp-on-status-with-frameworks_05.png" /><br />
<em>The Embark simulator runs in one Terminal window on the top, and the Embark console on the bottom</em></p>
<p>You should be able to tap the Contacts tab within Status and see your DApp there. After you’ve clicked on your DApp within Status, you’ll see that the chat area at the bottom shows <code>/browse [http://localhost:](http://localhost:8080/)8000/</code> for iOS, and <code>/browse [http://10.0.3.2:8000/](http://10.0.3.2:3000/)</code> for Android.</p>
<p>In fact, you can also browse to that address from Console with the command <code>/browse</code>, just like you could browse to any other web address inside Status. You can also enter that address into your browser, and you’ll see the same thing.</p>
<h2 id="youre-off-to-the-races">You’re Off to the Races</h2>
<p>Using Status, you can now develop mobile DApps as easily as developing for MetaMask or Mist! But Status offers extra goodies as well.</p>
<p>In particular, Status will help you allow your users to chat with your DApp! The chat interface will let your users easily and intuitively accomplish tasks. In the future, your users will be able to hold group conversations where all the other participants are DApps, which is kind of amazing.</p>
<p>Later we’ll have an easy mechanism to make your DApp available for others to use on Status, but for now please just submit a pull request using our <a href="http://wiki.status.im/contributing/development/adding-dapps/">guide on adding DApps</a>.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '../../..';</script>
        <script data-main="../../../mkdocs/js/search.js" src="../../../mkdocs/js/require.js"></script>
        <script src="../../../js/base.js"></script><div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
